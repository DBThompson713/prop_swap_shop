<main id="home">


    <section>
    
    <div class="sign-up-main">
    <h1>How it works</h1>
    
    </div>
    <h1 id="featured">
       Featured
    </h1>
    

<section class="showing-all-plants" >
        <% @plants.order(id: :desc).limit(3).each do |plant| %>
            <%= link_to(plant) do %>


                <div class="individual-plant-show-all" 
                style="
                background-image: url('<%= rails_blob_url(plant.picture) %>');
                background-size: cover;
                ">


                <div class="plant-info">




  <h3><%= plant.name %></h3>


  <button data-stripe="payment">Buy <%= number_to_currency(plant.price / 100.0) %></button>
  
  </div>
                    
                </div>
            <% end %>
        <% end %>
    </section>



    <p>
        
    <p>
    </section>
</main>

<script src="https://js.stripe.com/v3/"></script>
 <script>
    document.querySelector("[data-stripe='payment']").addEventListener("click", () => {
        const stripe = Stripe("<%= @public_key %>");
        stripe.redirectToCheckout({
            sessionId: "<%= @session_id %>"
        });
    });
</script>